<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <title>Dan's research blog - grappa</title>
        <link rel="stylesheet" href="http://blog.halper.in/theme/css/main.css" />
        <link href="http://blog.halper.in/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Dan's research blog Atom Feed" />

        <!--[if IE]>
            <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="http://blog.halper.in/">Dan's research blog </a></h1>
                <nav><ul>
                    <li><a href="http://r.halper.in/work">Homepage</a></li>
                    <li><a href="http://blog.halper.in/category/daily.html">daily</a></li>
                </ul></nav>
        </header><!-- /#banner -->

            <aside id="featured" class="body">
                <article>
                    <h1 class="entry-title"><a href="http://blog.halper.in/posts/2014/10/09/data-science-incubator-week-2/">Data Science Incubator, Week&nbsp;2</a></h1>
<footer class="post-info">
        <abbr class="published" title="2014-10-09T00:00:00">
                Published: Thu 09 October 2014
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="http://blog.halper.in/author/daniel-halperin.html">Daniel Halperin</a>
        </address>
<p>In <a href="http://blog.halper.in/category/daily.html">daily</a>. </p>
<p>tags: <a href="http://blog.halper.in/tag/becker.html">becker</a> <a href="http://blog.halper.in/tag/kbmod.html">kbmod</a> <a href="http://blog.halper.in/tag/incubator.html">incubator</a> <a href="http://blog.halper.in/tag/brandon.html">brandon</a> <a href="http://blog.halper.in/tag/grappa.html">grappa</a> </p>
</footer><!-- /.post-info --><p>I spent today in the Data Science Incubator working with <a href="http://www.astro.washington.edu/users/becker/">Andy Becker</a> on <a href="https://github.com/uwescience/kbmod"><span class="caps">KBMOD</span></a>. We are trying to port the key components of the moving object detection into PostgreSQL using PostGIS.</p>
<p>On his own, Andy designed a schema for the various data, including spatial columns and indexes. Side by side, we worked on a few issues:</p>
<ul>
<li>Speeding up data load: <code>\COPY</code> is much faster than large batch insert statements, as we know.</li>
<li>Explaining queries and seeing whether indexes are used: not yet, but the database is small so sequential scans might actually make more sense. Also, it looks like the optimizer may miss some tricks in some cases.</li>
<li>Cloud-ification: we set up an Amazon <span class="caps">RDS</span> PostgreSQL+PostGIS database, and proved that we could load data in, even large data.</li>
<li>Astro UDFs: for the kinds of spatial queries that we need, there are great C++ libraries that do all the work; we need access to those UDFs in the database! We <a href="https://github.com/uwescience/kbmod/issues/1">began investigating</a> PostgreSQL support for UDFs as compiled C binaries; this should be doable, but we may need to fiddle to make the C++ code play nice with PostgreSQL, which expects C…</li>
<li>
<p>UDFs may be a show-stopper for using <span class="caps">RDS</span>, however — you cannot register binary UDFs there, so we will likely have to kill the <span class="caps">RDS</span> instance and setup a manually managed <span class="caps">EC2</span>+PostgreSQL instance instead.</p>
<p>Aside: Automatically-managed cloud services are <em>very</em> appealing, but little implementation issues like this always seem to bite us. Similar limitations apply to Microsoft <span class="caps">SQL</span> Azure [no stored procedures], and Google App Engine [no CPython]—-our needs always push us into the “Sorry, you have to do <em>everything</em> manually now” use case, or make us dramatically restrict the performance and capabilities of our applications. Surely this issue crops up for other users!</p>
</li>
</ul>
<p>For next week, some preliminary goals are:</p>
<ul>
<li>move from <span class="caps">RDS</span> to <span class="caps">EC2</span></li>
<li>get a bigger dataset into the database, so we are in a real optimization framework</li>
<li>get the <span class="caps">UDF</span> into the database</li>
<li>work on expressing the queries and testing correctness</li>
<li>optimize the indexes and queries</li>
</ul>
<p>We also chatted with <a href="http://homes.cs.washington.edu/~bholt/">Brandon Holt</a>, <a href="http://r.halper.in/coauth/bdmyers">Brandon Myers</a>, and Simon Kahan about possible <a href="http://grappa.io/">Grappa</a>—<span class="caps">KBMOD</span> connections.</p><p>There are <a href="http://blog.halper.in/posts/2014/10/09/data-science-incubator-week-2/#disqus_thread">comments</a>.</p>                </article>
            </aside><!-- /#featured -->
                <section id="content" class="body">
                    <h1>Other articles</h1>
                    <hr />
                    <ol id="posts-list" class="hfeed">

            <li><article class="hentry">
                <header>
                    <h1><a href="http://blog.halper.in/posts/2014/08/21/2014-08-21-daily/" rel="bookmark"
                           title="Permalink to 2014-08-21 daily">2014-08-21&nbsp;daily</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2014-08-21T00:00:00">
                Published: Thu 21 August 2014
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="http://blog.halper.in/author/daniel-halperin.html">Daniel Halperin</a>
        </address>
<p>In <a href="http://blog.halper.in/category/daily.html">daily</a>. </p>
<p>tags: <a href="http://blog.halper.in/tag/sqlshare.html">sqlshare</a> <a href="http://blog.halper.in/tag/brandon.html">brandon</a> <a href="http://blog.halper.in/tag/raco.html">raco</a> <a href="http://blog.halper.in/tag/grappa.html">grappa</a> </p>
</footer><!-- /.post-info -->                <p>Today we met with <span class="caps">UW</span>-<span class="caps">IT</span> to talk about the future of <a href="http://sqlshare.escience.washington.edu">SQLShare</a>. We will be starting some sprints in the fall to prepare it to be transitioned to them as an on-campus service.</p>
<p>Spent a fair bit of time reading and discussing <a href="http://homes.cs.washington.edu/~bdmyers/">Brandon Myers’</a> paper using <a href="http://github.com/uwescience/raco">Raco</a> to compile ...</p>
                <a class="readmore" href="http://blog.halper.in/posts/2014/08/21/2014-08-21-daily/">read more</a>
<p>There are <a href="http://blog.halper.in/posts/2014/08/21/2014-08-21-daily/#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>
                </ol><!-- /#posts-list -->
                </section><!-- /#content -->
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>blogroll</h2>
                        <ul>
                            <li><a href="http://jakevdp.github.io/">Pythonic Perambulations</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>
                            <li><a href="http://blog.halper.in/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>

                            <li><a href="https://github.com/dhalperi">GitHub</a></li>
                            <li><a href="https://impactstory.org/DanielHalperin">ImpactStory</a></li>
                            <li><a href="https://scholar.google.com/citations?user=C6k0OjMAAAAJ">Scholar</a></li>
                            <li><a href="https://twitter.com/dhalperi">Twitter</a></li>
                            <li><a href="https://plus.google.com/+DanielHalperin">Google+</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-54311387-1']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
<script type="text/javascript">
    var disqus_shortname = 'blog-halper-in';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
</body>
</html>