<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <title>Dan's research blog - raco</title>
        <link rel="stylesheet" href="http://blog.halper.in/theme/css/main.css" />
        <link href="http://blog.halper.in/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Dan's research blog Atom Feed" />

        <!--[if IE]>
            <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="http://blog.halper.in/">Dan's research blog </a></h1>
                <nav><ul>
                    <li><a href="http://r.halper.in/work">Homepage</a></li>
                    <li><a href="http://blog.halper.in/category/daily.html">daily</a></li>
                </ul></nav>
        </header><!-- /#banner -->

            <aside id="featured" class="body">
                <article>
                    <h1 class="entry-title"><a href="http://blog.halper.in/posts/2014/10/13/data-and-databases/">Data and&nbsp;databases</a></h1>
<footer class="post-info">
        <abbr class="published" title="2014-10-13T00:00:00">
                Published: Mon 13 October 2014
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="http://blog.halper.in/author/daniel-halperin.html">Daniel Halperin</a>
        </address>
<p>In <a href="http://blog.halper.in/category/daily.html">daily</a>. </p>
<p>tags: <a href="http://blog.halper.in/tag/sophie.html">sophie</a> <a href="http://blog.halper.in/tag/becker.html">becker</a> <a href="http://blog.halper.in/tag/incubator.html">incubator</a> <a href="http://blog.halper.in/tag/reading.html">reading</a> <a href="http://blog.halper.in/tag/seaflow.html">seaflow</a> <a href="http://blog.halper.in/tag/kbmod.html">kbmod</a> <a href="http://blog.halper.in/tag/sqlshare.html">sqlshare</a> <a href="http://blog.halper.in/tag/raco.html">raco</a> <a href="http://blog.halper.in/tag/myria.html">myria</a> </p>
</footer><!-- /.post-info --><p>Over the weekend, both <a href="http://r.halper.in/coauth/sclayton">Sophie Clayton</a> and <a href="http://r.halper.in/people/becker">Andy Becker</a> worked independently on their <a href="http://data.uw.edu/incubator">Data Science Incubator</a> projects; I spent some time then and today answering emails :).</p>
<p>Sophie has been loading underway data (<span class="caps">GPS</span>, temperature, salinity, etc. from ships in motion) into <a href="http://sqlshare.escience.washington.edu">SQLShare</a> for cleaning. Every research vessel is its own special flower that represents dates and times in different ways, and we want to bring them all into a normalized format. We will then load the normalized data into Myria and join it with the SeaFlow data in her analyses. 
<small>(For now, the Microsoft <span class="caps">SQL</span> Server system underpinning SQLShare is better for messy data than Myria itself, because <span class="caps">SQL</span> Server handles more data types and corner cases than we do. This will change!)</small></p>
<p>We made Sophia’s queries run <em>dramatically</em> faster by materializing SQLShare datasets once all the fields were in the right types. Turns out, recomputing <code>datetime</code> objects can be really slow when you want to do interval joins on them! We also discussed how to find bad rows in datasets, e.g., if you’re getting errors casting values to <code>float</code>, you need to know about <code>WHERE ISNUMERIC(x) &lt;&gt; 1</code> so you can find the bad values of <code>x</code>.</p>
<p>Andy has been experiencing the joys of loading data into databases with indexes, foreign keys, auto commit, checkpointing, and all that. After some iteration, we figured out to check the Postgres logs and found that his remote <code>COPY</code> commands were running out of memory.  Chunking the data made it finish.</p>
<p>I finally got <a href="https://demo.myria.cs.washington.edu">Myria’s web interface</a> to correctly push queries into the Postgres without weird Google App Engine issues, fixed all the Travis-<span class="caps">CI</span> tests, and deployed it.</p><p>There are <a href="http://blog.halper.in/posts/2014/10/13/data-and-databases/#disqus_thread">comments</a>.</p>                </article>
            </aside><!-- /#featured -->
                <section id="content" class="body">
                    <h1>Other articles</h1>
                    <hr />
                    <ol id="posts-list" class="hfeed">

            <li><article class="hentry">
                <header>
                    <h1><a href="http://blog.halper.in/posts/2014/09/22/2014-09-22-daily/" rel="bookmark"
                           title="Permalink to 2014-09-22 daily">2014-09-22&nbsp;daily</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2014-09-22T00:00:00">
                Published: Mon 22 September 2014
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="http://blog.halper.in/author/daniel-halperin.html">Daniel Halperin</a>
        </address>
<p>In <a href="http://blog.halper.in/category/daily.html">daily</a>. </p>
<p>tags: <a href="http://blog.halper.in/tag/incubator.html">incubator</a> <a href="http://blog.halper.in/tag/raco.html">raco</a> <a href="http://blog.halper.in/tag/brandon.html">brandon</a> <a href="http://blog.halper.in/tag/jeremy.html">jeremy</a> </p>
</footer><!-- /.post-info -->                <p>The majority activity today was reviewing the proposals we received for the Fall 2014 edition of our <a href="http://data.uw.edu/incubator/">Data Science Incubator</a>. We received <strong>26</strong> fantastic proposals ranging from Astronomy to Statistics (<em>sadly, no Zoology</em>), and we are probably going to have to cut it down to 5 or 6. Lots of ...</p>
                <a class="readmore" href="http://blog.halper.in/posts/2014/09/22/2014-09-22-daily/">read more</a>
<p>There are <a href="http://blog.halper.in/posts/2014/09/22/2014-09-22-daily/#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="http://blog.halper.in/posts/2014/09/15/2014-09-15-daily/" rel="bookmark"
                           title="Permalink to 2014-09-15 daily">2014-09-15&nbsp;daily</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2014-09-15T00:00:00">
                Published: Mon 15 September 2014
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="http://blog.halper.in/author/daniel-halperin.html">Daniel Halperin</a>
        </address>
<p>In <a href="http://blog.halper.in/category/daily.html">daily</a>. </p>
<p>tags: <a href="http://blog.halper.in/tag/myria.html">myria</a> <a href="http://blog.halper.in/tag/raco.html">raco</a> <a href="http://blog.halper.in/tag/sandra.html">sandra</a> <a href="http://blog.halper.in/tag/jevin.html">jevin</a> </p>
</footer><!-- /.post-info -->                <blockquote>
<p>Next week, I’ll see if the incrementalization actually helps us scale.</p>
</blockquote>
<p>Only had a tiny bit of time today; I worked more on the least common ancestor query. Here is what new work contributed to better scaling:</p>
<ul>
<li>
<p>Incrementalizing the code (duh) did in fact let me scale it farther ...</p></li></ul>
                <a class="readmore" href="http://blog.halper.in/posts/2014/09/15/2014-09-15-daily/">read more</a>
<p>There are <a href="http://blog.halper.in/posts/2014/09/15/2014-09-15-daily/#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="http://blog.halper.in/posts/2014/09/10/2014-09-10-daily/" rel="bookmark"
                           title="Permalink to 2014-09-10 daily">2014-09-10&nbsp;daily</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2014-09-10T00:00:00">
                Published: Wed 10 September 2014
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="http://blog.halper.in/author/daniel-halperin.html">Daniel Halperin</a>
        </address>
<p>In <a href="http://blog.halper.in/category/daily.html">daily</a>. </p>
<p>tags: <a href="http://blog.halper.in/tag/myria.html">myria</a> <a href="http://blog.halper.in/tag/raco.html">raco</a> <a href="http://blog.halper.in/tag/sandra.html">sandra</a> <a href="http://blog.halper.in/tag/jevin.html">jevin</a> </p>
</footer><!-- /.post-info -->                <p>In between meetings, I spent most of today continuing yesterday’s work on the citation use case. Further query rewrites and testing exposed an interesting bug in the optimizer due to a mismatch between logical algebra representation and the actual system implementation behavior — the optimizer assumed the system could perform ...</p>
                <a class="readmore" href="http://blog.halper.in/posts/2014/09/10/2014-09-10-daily/">read more</a>
<p>There are <a href="http://blog.halper.in/posts/2014/09/10/2014-09-10-daily/#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="http://blog.halper.in/posts/2014/09/09/2014-09-09-daily/" rel="bookmark"
                           title="Permalink to 2014-09-09 daily">2014-09-09&nbsp;daily</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2014-09-09T00:00:00">
                Published: Tue 09 September 2014
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="http://blog.halper.in/author/daniel-halperin.html">Daniel Halperin</a>
        </address>
<p>In <a href="http://blog.halper.in/category/daily.html">daily</a>. </p>
<p>tags: <a href="http://blog.halper.in/tag/myria.html">myria</a> <a href="http://blog.halper.in/tag/raco.html">raco</a> <a href="http://blog.halper.in/tag/sandra.html">sandra</a> <a href="http://blog.halper.in/tag/jevin.html">jevin</a> </p>
</footer><!-- /.post-info -->                <p>Today I picked up some of the work that Sandra Anderson did in her summer internship, namely trying to find common citations (transitively) between pairs of papers in <a href="http://r.halper.in/coauth/jevin">Jevin West</a>‘s data sets.</p>
<p>Once again I identified a number of nice optimization opportunities:</p>
<ul>
<li>some query rewrites that result in better ...</li></ul>
                <a class="readmore" href="http://blog.halper.in/posts/2014/09/09/2014-09-09-daily/">read more</a>
<p>There are <a href="http://blog.halper.in/posts/2014/09/09/2014-09-09-daily/#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="http://blog.halper.in/posts/2014/09/08/2014-09-08-daily/" rel="bookmark"
                           title="Permalink to 2014-09-08 daily">2014-09-08&nbsp;daily</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2014-09-08T00:00:00">
                Published: Mon 08 September 2014
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="http://blog.halper.in/author/daniel-halperin.html">Daniel Halperin</a>
        </address>
<p>In <a href="http://blog.halper.in/category/daily.html">daily</a>. </p>
<p>tags: <a href="http://blog.halper.in/tag/incubator.html">incubator</a> <a href="http://blog.halper.in/tag/raco.html">raco</a> <a href="http://blog.halper.in/tag/myria.html">myria</a> <a href="http://blog.halper.in/tag/sophie.html">sophie</a> </p>
</footer><!-- /.post-info -->                <p>Today we held the information session for the second installation of our Data Science Incubator projects which we will hold in the Spring. It was fairly well attended; maybe 20—25 people came and many of these indicated that they will be submitting proposals.</p>
<p>Over the weekend and today I ...</p>
                <a class="readmore" href="http://blog.halper.in/posts/2014/09/08/2014-09-08-daily/">read more</a>
<p>There are <a href="http://blog.halper.in/posts/2014/09/08/2014-09-08-daily/#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="http://blog.halper.in/posts/2014/09/04/2014-09-04-daily/" rel="bookmark"
                           title="Permalink to 2014-09-04 daily">2014-09-04&nbsp;daily</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2014-09-04T00:00:00">
                Published: Thu 04 September 2014
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="http://blog.halper.in/author/daniel-halperin.html">Daniel Halperin</a>
        </address>
<p>In <a href="http://blog.halper.in/category/daily.html">daily</a>. </p>
<p>tags: <a href="http://blog.halper.in/tag/andrew.html">andrew</a> <a href="http://blog.halper.in/tag/brandon.html">brandon</a> <a href="http://blog.halper.in/tag/sandra.html">sandra</a> <a href="http://blog.halper.in/tag/york.html">york</a> <a href="http://blog.halper.in/tag/myria.html">myria</a> <a href="http://blog.halper.in/tag/raco.html">raco</a> </p>
</footer><!-- /.post-info -->                <p>Today I met with <span class="caps">UW</span> <span class="caps">CSE</span> undergrad York Wei and <a href="http://r.halper.in/coauth/bdmyers">Brandon Myers</a> for demos and code review of York’s summer Project. York and Brandon have adapted our <a href="http://github.com/uwescience/myria-web">Myria Web frontend</a> to extend the current support for <a href="http://myria.cs.washington.edu">Myria</a> with the ability to issue queries to two new backends:</p>
<ol>
<li>a backend ...</li></ol>
                <a class="readmore" href="http://blog.halper.in/posts/2014/09/04/2014-09-04-daily/">read more</a>
<p>There are <a href="http://blog.halper.in/posts/2014/09/04/2014-09-04-daily/#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="http://blog.halper.in/posts/2014/09/03/2014-09-03-daily/" rel="bookmark"
                           title="Permalink to 2014-09-03 daily">2014-09-03&nbsp;daily</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2014-09-03T00:00:00">
                Published: Wed 03 September 2014
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="http://blog.halper.in/author/daniel-halperin.html">Daniel Halperin</a>
        </address>
<p>In <a href="http://blog.halper.in/category/daily.html">daily</a>. </p>
<p>tags: <a href="http://blog.halper.in/tag/sophie.html">sophie</a> <a href="http://blog.halper.in/tag/seaflow.html">seaflow</a> <a href="http://blog.halper.in/tag/asterios.html">asterios</a> <a href="http://blog.halper.in/tag/danac.html">danac</a> <a href="http://blog.halper.in/tag/myria.html">myria</a> <a href="http://blog.halper.in/tag/raco.html">raco</a> </p>
</footer><!-- /.post-info -->                <p>Today’s highlight was another hack session with <a href="http://r.halper.in/coauth/sclayton">Sophie Clayton</a> in the Armbrust Lab. The <a href="https://demo.myria.cs.washington.edu/queries?max=32528&amp;limit=1">same query to compute the cytometric diversity (“richness”)</a> that we ran a month ago on a smaller dataset now ran out of memory after 12 minutes; after an hour of futzing I got it to ...</p>
                <a class="readmore" href="http://blog.halper.in/posts/2014/09/03/2014-09-03-daily/">read more</a>
<p>There are <a href="http://blog.halper.in/posts/2014/09/03/2014-09-03-daily/#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="http://blog.halper.in/posts/2014/08/29/2014-08-29-daily/" rel="bookmark"
                           title="Permalink to 2014-08-29 daily">2014-08-29&nbsp;daily</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2014-08-29T00:00:00">
                Published: Fri 29 August 2014
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="http://blog.halper.in/author/daniel-halperin.html">Daniel Halperin</a>
        </address>
<p>In <a href="http://blog.halper.in/category/daily.html">daily</a>. </p>
<p>tags: <a href="http://blog.halper.in/tag/myria.html">myria</a> <a href="http://blog.halper.in/tag/raco.html">raco</a> <a href="http://blog.halper.in/tag/infomap.html">infomap</a> <a href="http://blog.halper.in/tag/andrew.html">andrew</a> <a href="http://blog.halper.in/tag/sandra.html">sandra</a> </p>
</footer><!-- /.post-info -->                <p>The big news today is that <a href="https://demo.myria.cs.washington.edu">Myria</a> now has support for user-defined aggregations. I’m excited that we can soon put this new feature to work and asymptotically speedup <a href="http://blog.halper.in/2014-08-20-daily.html">Sandra’s citation graph analysis work</a>, which is currently throttled by memory pressure.</p>
                <a class="readmore" href="http://blog.halper.in/posts/2014/08/29/2014-08-29-daily/">read more</a>
<p>There are <a href="http://blog.halper.in/posts/2014/08/29/2014-08-29-daily/#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="http://blog.halper.in/posts/2014/08/28/2014-08-28-daily/" rel="bookmark"
                           title="Permalink to 2014-08-28 daily">2014-08-28&nbsp;daily</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2014-08-28T00:00:00">
                Published: Thu 28 August 2014
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="http://blog.halper.in/author/daniel-halperin.html">Daniel Halperin</a>
        </address>
<p>In <a href="http://blog.halper.in/category/daily.html">daily</a>. </p>
<p>tags: <a href="http://blog.halper.in/tag/myria.html">myria</a> <a href="http://blog.halper.in/tag/raco.html">raco</a> <a href="http://blog.halper.in/tag/seaflow.html">seaflow</a> <a href="http://blog.halper.in/tag/andrew.html">andrew</a> <a href="http://blog.halper.in/tag/bill.html">bill</a> <a href="http://blog.halper.in/tag/brandon.html">brandon</a> <a href="http://blog.halper.in/tag/dominik.html">dominik</a> <a href="http://blog.halper.in/tag/francois.html">francois</a> <a href="http://blog.halper.in/tag/jarred.html">jarred</a> <a href="http://blog.halper.in/tag/sophie.html">sophie</a> </p>
</footer><!-- /.post-info -->                <p>We had our monthly <a href="http://armbrustlab.ocean.washington.edu/resources/seaflow/">SeaFlow</a>/eScience group meeting meeting. For this grant the oceanographers have been doing lots of new science using tools like <a href="http://sqlshare.escience.washington.edu">SQLShare</a>, <a href="http://demo.myria.cs.washington.edu">Myria</a>, and <a href="https://github.com/uwescience/popcycle">popcycle</a>, our software for storing indexing and analyzing SeaFlow data. We discussed needed improvements to popcycle and to the <a href="https://github.com/uwescience/seaflow-viz">seaflow-viz</a> web dashboard (see ...</p>
                <a class="readmore" href="http://blog.halper.in/posts/2014/08/28/2014-08-28-daily/">read more</a>
<p>There are <a href="http://blog.halper.in/posts/2014/08/28/2014-08-28-daily/#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="http://blog.halper.in/posts/2014/08/21/2014-08-21-daily/" rel="bookmark"
                           title="Permalink to 2014-08-21 daily">2014-08-21&nbsp;daily</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2014-08-21T00:00:00">
                Published: Thu 21 August 2014
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="http://blog.halper.in/author/daniel-halperin.html">Daniel Halperin</a>
        </address>
<p>In <a href="http://blog.halper.in/category/daily.html">daily</a>. </p>
<p>tags: <a href="http://blog.halper.in/tag/sqlshare.html">sqlshare</a> <a href="http://blog.halper.in/tag/brandon.html">brandon</a> <a href="http://blog.halper.in/tag/raco.html">raco</a> <a href="http://blog.halper.in/tag/grappa.html">grappa</a> </p>
</footer><!-- /.post-info -->                <p>Today we met with <span class="caps">UW</span>-<span class="caps">IT</span> to talk about the future of <a href="http://sqlshare.escience.washington.edu">SQLShare</a>. We will be starting some sprints in the fall to prepare it to be transitioned to them as an on-campus service.</p>
<p>Spent a fair bit of time reading and discussing <a href="http://homes.cs.washington.edu/~bdmyers/">Brandon Myers’</a> paper using <a href="http://github.com/uwescience/raco">Raco</a> to compile ...</p>
                <a class="readmore" href="http://blog.halper.in/posts/2014/08/21/2014-08-21-daily/">read more</a>
<p>There are <a href="http://blog.halper.in/posts/2014/08/21/2014-08-21-daily/#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>
                </ol><!-- /#posts-list -->
                </section><!-- /#content -->
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>blogroll</h2>
                        <ul>
                            <li><a href="http://jakevdp.github.io/">Pythonic Perambulations</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>
                            <li><a href="http://blog.halper.in/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>

                            <li><a href="https://github.com/dhalperi">GitHub</a></li>
                            <li><a href="https://impactstory.org/DanielHalperin">ImpactStory</a></li>
                            <li><a href="https://scholar.google.com/citations?user=C6k0OjMAAAAJ">Scholar</a></li>
                            <li><a href="https://twitter.com/dhalperi">Twitter</a></li>
                            <li><a href="https://plus.google.com/+DanielHalperin">Google+</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-54311387-1']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
<script type="text/javascript">
    var disqus_shortname = 'blog-halper-in';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
</body>
</html>